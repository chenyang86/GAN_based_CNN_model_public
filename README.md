# GAN_based_CNN_model_public
### This code repository is the public version of the GAN-based CNN model used in paper "The Effects of Agglomeration on Customer Traffic Commercial Real Estate Values: Evidence from Grocery Store Openings" (Franklin Qian, Qianyang Zhang, Xiang Zhang, Oct. 2022). The public version does not provide raw data and specific parameters, but provides all the other details of the model.

### Our model construction has three main steps. The first step prepares and transforms the raw data. Our goal is to prepare a spatial data set with economically meaningful input characteristics in an accessible format to train a CNN model. 
### The second step is to find a pool of potential candidates for counterfactual sites. To do that, we build a GAN-based CNN model to find candidate sites similar to real grocery store opening sites in nearby demographic characteristics and the existing business environment. 
### The third step is to determine the best counterfactual sites for grocery store openings. Given the high-dimensionality of the features that affect a grocery storeâ€™s location decision, we use Principal Component Analysis (PCA) to select the essential features. We then use the selected features to estimate a propensity score model for all real opening sites and potential candidate sites from step two. Finally, we match each real opening to one counterfactual site in its vicinity with the closest propensity score from the pool of candidates. These three steps allow us to find a valid control group to draw causal inferences about the impacts of grocery store openings

### Corresponding to the three steps of the model, the code package also consists of three programs: the input processing code (01_Input_PublicVersion.ipynb), the CNN training code (02_CNN_PublicVersion.ipynb), the CNN output processing code (03_OutputProcess_PublicVersion.ipynb).
